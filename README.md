# GoLibrary

## Перед запуском:

### Войти в консоль PostgreSQL
```bash
sudo -u postgres psql
```
### В консоли PostgreSQL выполнить:
```sql
ALTER USER postgres WITH PASSWORD 'новый_пароль';
```
### Выйти из консоли
```sql
\q
```

---

## Сам запуск:
###  Сборка и запуск контейнеров

### Найти PID процесса, использующего порт 5432
```bash
sudo lsof -i :5432
```
### Убить процесс
```bash
sudo kill -9 <PID>
```
### Попробовать запустить контейнеры снова
```bash
docker-compose up -d
```

### Проверка, что контейнеры запущены

```bash
docker ps
```

### Проверка логов
```bash
docker-compose logs -f
```



## API
### Эндпоинты
- GET /api/books - получить список всех книг
- GET /api/books/:id - получить книгу по ID
- POST /api/books - создать новую книгу
- PUT /api/books/:id - обновить книгу
- DELETE /api/books/:id - удалить книгу

### Создание новой книги
```bash
curl -X POST http://localhost:8080/api/books \
  -H "Content-Type: application/json" \
  -d '{"title":"Война и мир","author":"Лев Толстой","isbn":"1234567890"}'
```
### Получение списка книг
```bash
curl http://localhost:8080/api/books
```

### Cваггер
```bash
curl http://localhost:8080/swagger/index.html
```
# GOBrokers


# Практическая рабаот №4

1) Установлен Nginx
  - Был создан отдельный сервис в docker-compose.yml для nginx
2) Установлен балансировщик нагрузки
  - В docker-compose.yml создано 3 одинаковых сервера Go, в конфигурации nginx указана балансровка между ними в зависимоти то кол-ва соединений к серверам. 
3) Установлен самоподписывающийся SSL сертификат
  - При переходе на домен localhost получаем предупереждение
4) Меры безопасности:
  - Установлено ограничение для подключений
  - Защита от брутфорса
  - Защита от крупных запросов 
  - Защита от крупных запросов 
  - Ограничение доступа по IP (Если попробовать перейти по пути admin с любого ip, кроме 192.168.1.100, то в ответ получим ошибку)
  - Скрыты версии сервеного ПО
5) Логирование и мониторинг
  - Создан отдельный сервис в docker-compose.yml для fail2ban, установлена свзяь с nginx, настроена конфигурация согласно примеру
